comment;
        return $this;
    }

    public function isApproved(): ?bool
    {
        return $this->approved;
    }

    public function setApproved(bool $approved): static
    {
        $this->approved = $approved;
        return $this;
    }

    public function getCreatedAt(): ?\DateTimeImmutable
    {
        return $this->createdAt;
    }

    public function setCreatedAt(\DateTimeImmutable $createdAt): static
    {
        $this->createdAt = $createdAt;
        return $this;
    }

    public function getUser(): ?User
    {
        return $this->user;
    }

    public function setUser(?User $user): static
    {
        $this->user = $user;
        return $this;
    }

    public function getProperty(): ?Property
    {
        return $this->property;
    }

    public function setProperty(?Property $property): static
    {
        $this->property = $property;
        return $this;
    }
}
```

G. **src/Entity/Payment.php** - COMPLET

```php
<?php

namespace App\Entity;

use App\Repository\PaymentRepository;
use Doctrine\DBAL\Types\Types;
use Doctrine\ORM\Mapping as ORM;

#[ORM\Entity(repositoryClass: PaymentRepository::class)]
class Payment
{
    public const STATUS_PENDING = 'pending';
    public const STATUS_COMPLETED = 'completed';
    public const STATUS_FAILED = 'failed';
    public const STATUS_REFUNDED = 'refunded';

    #[ORM\Id]
    #[ORM\GeneratedValue]
    #[ORM\Column]
    private ?int $id = null;

    #[ORM\Column(type: Types::DECIMAL, precision: 10, scale: 2)]
    private ?string $amount = null;

    #[ORM\Column(length: 20)]
    private ?string $status = self::STATUS_PENDING;

    #[ORM\Column(length: 50)]
    private ?string $method = null;

    #[ORM\Column(length: 255, nullable: true)]
    private ?string $transactionId = null;

    #[ORM\Column]
    private ?\DateTimeImmutable $createdAt = null;

    #[ORM\OneToOne(inversedBy: 'payment', cascade: ['persist', 'remove'])]
    #[ORM\JoinColumn(nullable: false)]
    private ?Reservation $reservation = null;

    public function __construct()
    {
        $this->createdAt = new \DateTimeImmutable();
        $this->status = self::STATUS_PENDING;
    }

    public function getId(): ?int
    {
        return $this->id;
    }

    public function getAmount(): ?string
    {
        return $this->amount;
    }

    public function setAmount(string $amount): static
    {
        $this->amount = $amount;
        return $this;
    }

    public function getStatus(): ?string
    {
        return $this->status;
    }

    public function setStatus(string $status): static
    {
        $this->status = $status;
        return $this;
    }

    public function getMethod(): ?string
    {
        return $this->method;
    }

    public function setMethod(string $method): static
    {
        $this->method = $method;
        return $this;
    }

    public function getTransactionId(): ?string
    {
        return $this->transactionId;
    }

    public function setTransactionId(?string $transactionId): static
    {
        $this->transactionId = $transactionId;
        return $this;
    }

    public function getCreatedAt(): ?\DateTimeImmutable
    {
        return $this->createdAt;
    }

    public function setCreatedAt(\DateTimeImmutable $createdAt): static
    {
        $this->createdAt = $createdAt;
        return $this;
    }

    public function getReservation(): ?Reservation
    {
        return $this->reservation;
    }

    public function setReservation(Reservation $reservation): static
    {
        $this->reservation = $reservation;
        return $this;
    }
}
```

Ã‰TAPE 1.3 : GÃ‰NÃ‰RATION DES REPOSITORIES

Pour CHAQUE entitÃ©, gÃ©nÃ¨re automatiquement son repository :

```bash
php bin/console make:entity --regenerate
```

Ã‰TAPE 1.4 : CRÃ‰ATION DES FIXTURES (DONNÃ‰ES DE TEST)

GÃ‰NÃˆRE : src/DataFixtures/AppFixtures.php

```php
<?php

namespace App\DataFixtures;

use App\Entity\Category;
use App\Entity\Payment;
use App\Entity\Property;
use App\Entity\PropertyImage;
use App\Entity\Reservation;
use App\Entity\Review;
use App\Entity\User;
use Doctrine\Bundle\FixturesBundle\Fixture;
use Doctrine\Persistence\ObjectManager;
use Symfony\Component\PasswordHasher\Hasher\UserPasswordHasherInterface;

class AppFixtures extends Fixture
{
    private UserPasswordHasherInterface $passwordHasher;

    public function __construct(UserPasswordHasherInterface $passwordHasher)
    {
        $this->passwordHasher = $passwordHasher;
    }

    public function load(ObjectManager $manager): void
    {
        // 1. CRÃ‰ER LES CATÃ‰GORIES
        $categories = [];
        $categoryData = [
            ['name' => 'Appartement', 'icon' => 'fa-building'],
            ['name' => 'Maison', 'icon' => 'fa-home'],
            ['name' => 'Villa', 'icon' => 'fa-hotel'],
            ['name' => 'Studio', 'icon' => 'fa-door-open'],
            ['name' => 'Chalet', 'icon' => 'fa-mountain'],
        ];

        foreach ($categoryData as $data) {
            $category = new Category();
            $category->setName($data['name']);
            $category->setIcon($data['icon']);
            $category->setDescription('CatÃ©gorie ' . $data['name']);
            $manager->persist($category);
            $categories[] = $category;
        }

        // 2. CRÃ‰ER UN ADMIN
        $admin = new User();
        $admin->setEmail('admin@quickstay.com');
        $admin->setPassword($this->passwordHasher->hashPassword($admin, 'Admin123!'));
        $admin->setFirstName('Admin');
        $admin->setLastName('QuickStay');
        $admin->setRoles(['ROLE_ADMIN']);
        $admin->setPhone('+216 20 123 456');
        $admin->setCity('Tunis');
        $admin->setCountry('Tunisie');
        $manager->persist($admin);

        // 3. CRÃ‰ER DES UTILISATEURS
        $users = [];
        for ($i = 1; $i <= 10; $i++) {
            $user = new User();
            $user->setEmail("user{$i}@quickstay.com");
            $user->setPassword($this->passwordHasher->hashPassword($user, 'User123!'));
            $user->setFirstName("User{$i}");
            $user->setLastName("Test");
            $user->setPhone("+216 20 " . rand(100, 999) . " " . rand(100, 999));
            $user->setCity(['Tunis', 'Sousse', 'Sfax', 'Bizerte'][array_rand(['Tunis', 'Sousse', 'Sfax', 'Bizerte'])]);
            $user->setCountry('Tunisie');
            $manager->persist($user);
            $users[] = $user;
        }

        // 4. CRÃ‰ER DES PROPRIÃ‰TÃ‰S
        $properties = [];
        $cities = ['Tunis', 'Sousse', 'Sfax', 'Hammamet', 'Nabeul', 'Monastir', 'Bizerte', 'Djerba'];
        
        for ($i = 1; $i <= 30; $i++) {
            $property = new Property();
            $property->setName("PropriÃ©tÃ© {$i} - " . $cities[array_rand($cities)]);
            $property->setDescription("Belle propriÃ©tÃ© avec vue magnifique. IdÃ©ale pour vos vacances en famille ou entre amis.");
            $property->setPrice((string) rand(50, 500));
            $property->setAddress(rand(1, 100) . " Avenue Habib Bourguiba");
            $property->setCity($cities[array_rand($cities)]);
            $property->setCountry('Tunisie');
            $property->setCapacity(rand(2, 10));
            $property->setBedrooms(rand(1, 5));
            $property->setBathrooms(rand(1, 3));
            $property->setAvailable(true);
            $property->setCategory($categories[array_rand($categories)]);
            $property->setOwner($admin);
            
            // Ajouter des images
            for ($j = 1; $j <= rand(2, 5); $j++) {
                $image = new PropertyImage();
                $image->setFilename("property-{$i}-{$j}.jpg");
                $image->setProperty($property);
                $manager->persist($image);
            }
            
            $manager->persist($property);
            $properties[] = $property;
        }

        // 5. CRÃ‰ER DES RÃ‰SERVATIONS
        for ($i = 0; $i < 50; $i++) {
            $reservation = new Reservation();
            $user = $users[array_rand($users)];
            $property = $properties[array_rand($properties)];
            
            $checkIn = new \DateTimeImmutable('+' . rand(1, 60) . ' days');
            $checkOut = $checkIn->modify('+' . rand(2, 14) . ' days');
            
            $reservation->setUser($user);
            $reservation->setProperty($property);
            $reservation->setCheckIn($checkIn);
            $reservation->setCheckOut($checkOut);
            $reservation->setGuests(rand(1, (int)$property->getCapacity()));
            
            $nights = $reservation->getNights();
            $totalPrice = (float)$property->getPrice() * $nights;
            $reservation->setTotalPrice((string)$totalPrice);
            
            $statuses = [
                Reservation::STATUS_PENDING,
                Reservation::STATUS_CONFIRMED,
                Reservation::STATUS_CONFIRMED,
                Reservation::STATUS_CONFIRMED,
                Reservation::STATUS_CANCELLED,
            ];
            $reservation->setStatus($statuses[array_rand($statuses)]);
            
            $manager->persist($reservation);
            
            // CrÃ©er un paiement pour chaque rÃ©servation confirmÃ©e
            if ($reservation->getStatus() === Reservation::STATUS_CONFIRMED) {
                $payment = new Payment();
                $payment->setAmount($reservation->getTotalPrice());
                $payment->setStatus(Payment::STATUS_COMPLETED);
                $payment->setMethod('credit_card');
                $payment->setTransactionId('TXN-' . strtoupper(bin2hex(random_bytes(8))));
                $payment->setReservation($reservation);
                $manager->persist($payment);
            }
        }

        // 6. CRÃ‰ER DES AVIS
        for ($i = 0; $i < 40; $i++) {
            $review = new Review();
            $review->setUser($users[array_rand($users)]);
            $review->setProperty($properties[array_rand($properties)]);
            $review->setRating(rand(3, 5));
            $review->setComment("Excellent sÃ©jour ! TrÃ¨s belle propriÃ©tÃ©, propre et bien situÃ©e.");
            $review->setApproved(true);
            $manager->persist($review);
        }

        $manager->flush();
    }
}
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MAINTENANT, EXÃ‰CUTE CES COMMANDES DANS L'ORDRE ET DONNE-MOI LE RÃ‰SULTAT :

1. php bin/console doctrine:database:create
2. php bin/console make:migration
3. php bin/console doctrine:migrations:migrate
4. php bin/console doctrine:fixtures:load --no-interaction
5. php bin/console debug:router

DONNE-MOI LE RÃ‰SULTAT DE CHAQUE COMMANDE POUR QUE JE PUISSE VÃ‰RIFIER.

APRÃˆS CELA, JE CONTINUERAI AVEC LES AUTRES PHASES :
- Phase 2 : VÃ©rification complÃ¨te de tous les controllers
- Phase 3 : VÃ©rification complÃ¨te de tous les formulaires
- Phase 4 : VÃ©rification complÃ¨te de tous les templates
- Phase 5 : VÃ©rification sÃ©curitÃ©
- Phase 6 : Tests finaux

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**UTILISE CE PROMPT ET COMMENCE PAR LA PHASE 1 (BASE DE DONNÃ‰ES). Donne-moi les rÃ©sultats de chaque commande pour que je t'aide Ã  corriger les Ã©ventuelles erreurs avant de passer aux phases suivantes.** ğŸš€